<idea-plugin require-restart="false">
    <id>com.vscode.jetbrainssync</id>
    <name>IDE Sync - Connect to VSCode</name>
    <vendor>denisbalber</vendor>
    <description><![CDATA[
        <h2>IDE Sync - Multi-IDE Real-time Synchronization</h2>
        <p>Advanced multi-IDE synchronization plugin using UDP multicast technology for seamless navigation between multiple editors simultaneously. </p>
        <p>Supports real-time synchronization across VSCode, Cursor, Windsurf, and JetBrains IntelliJ-based IDEs like Rider, IntelliJ IDEA, and WebStorm running on the same machine.</p>

        <h3>Features</h3>
        <ul>
            <li>**UDP组播同步**：去中心化发布订阅模式，无需中央服务器</li>
            <li>**多IDE实例支持**：同时同步多个编辑器实例</li>
            <li>**自动消息去重**：内置去重和清理机制确保稳定性</li>
            <li>**动态端口配置**：支持创建独立同步组，实时生效</li>
            <li>**优化通信**：本机同步优先使用回环接口</li>
            <li>Automatic cursor position synchronization</li>
            <li>Automatic active file synchronization</li>
            <li>Easy configuration through settings</li>
        </ul>

        <h3>Installation</h3>
        <ol>
            <li>Install the JetBrains plugin in JetBrains IDE called "IDE Sync - Connect to VSCode"</li>
            <li>Install the corresponding VS Code extension called "IDE Sync - Connect to JetBrains IDE"</li>
        </ol>

        <h3>Usage</h3>
        <ol>
            <li>After installation, you'll find a toggle button in the JetBrains IDE status bar</li>
            <li>Click the button to enable/disable synchronization</li>
            <li>The button shows the current status:
                <ul>
                    <li>"Turn IDE Sync On" - Sync disabled</li>
                    <li>"IDE Sync On" - Sync enabled</li>
                </ul>
            </li>
        </ol>

        <h3>Configuration</h3>
        <p>You can adjust the port in the settings:</p>
        <ul>
            <li>Open JetBrains IDE settings</li>
            <li>Search for "IDE Sync - Connect to VSCode"</li>
            <li>Adjust the port (default: 3000)</li>
            <li>Use different ports to create separate sync groups</li>
        </ul>

        <h3>Troubleshooting</h3>
        <p>If you can't establish a connection:</p>
        <ul>
            <li>Make sure both plugins are installed</li>
            <li>Check if the IDE Sync is turned on in both IDEs</li>
            <li>Verify that the port settings match in both plugins</li>
            <li>Restart both editors</li>
        </ul>

        <h3>Feedback & Issues</h3>
        <p>Please report issues or suggestions on <a href="https://github.com/denisbalber/IDESync-VSCode-JetBrains/issues">GitHub</a>.</p>
    ]]></description>
    <depends>com.intellij.modules.platform</depends>
    <change-notes><![CDATA[
        <h3>Version 1.4.2</h3>
        <p><strong>Fixed</strong></p>
        <ul>
            <li>逻辑优化：修复IDEA文件打开获取编辑器实例逻辑，提升文件打开的稳定性</li>
            <li>逻辑优化：解决IDEA多文件拖拽快速打开同步问题</li>
            <li>逻辑优化：修复VSCode中新文件打开时同步问题（如AI生成新文件场景）</li>
        </ul>
        <h3>Version 1.4.1</h3>
        <p><strong>Changed</strong></p>
        <ul>
            <li>代码优化：优化日志输出，优化文件操作，优化工作空间同步</li>
        </ul>
        <h3>Version 1.4.0</h3>
        <p><strong>Changed</strong></p>
        <ul>
            <li>WORKSPACE_SYNC同步逻辑优化：改进工作区同步机制，提升同步效率和稳定性</li>
        </ul>
        <p><strong>Fixed</strong></p>
        <ul>
            <li>修复IDEA多个实例窗口打开不同项目时的冲突问题：将共享单例类改为项目级别实例，避免不同项目间的相互干扰</li>
        </ul>
        <h3>Version 1.3.0</h3>
        <ul>
            <li>代码选中范围同步：新增选中文本的实时同步功能，支持多IDE间精确同步代码选中范围</li>
        </ul>
        <h3>Version 1.2.0</h3>
        <ul>
            <li>自动启动同步：新增配置项支持IDE启动后自动开启同步功能，默认关闭需手动启用</li>
            <li>优化VSCode文件关闭逻辑：修复部分情况tab显示但无法关闭的问题，提升同步可靠性</li>
            <li>自动化发布流程：集成changelog-reader-action，支持从CHANGELOG.md自动生成GitHub Release描述</li>
        </ul>
        <h3>Version 1.1.0</h3>
        <ul>
            <li>全量同步补偿机制：新增窗口失焦时的全量工作区同步功能，解决长期使用中增量同步失败导致的状态不一致问题</li>
        </ul>
        <h3>Version 1.0.20</h3>
        <ul>
            <li>同步机制升级：将WebSocket同步更换为UDP组播同步，实现去中心化发布订阅模式</li>
            <li>多编辑器支持：本机同时打开的IDEA、Cursor、Windsurf、VSCode等多IDE实例可实时同步</li>
            <li>稳定性保障：自带自动消息去重和清理机制</li>
            <li>动态端口配置：支持通过端口创建独立同步组，分组间互不干扰</li>
            <li>即改即用：端口配置实时生效，无需重启IDE</li>
            <li>通信优化：本机同步优先使用回环接口，提升效率</li>
        </ul>
        <h3>Version 1.0.19</h3>
        <ul>
            <li>Added file close synchronization between VSCode and JetBrains</li>
        </ul>
        <h3>Version 1.0.18</h3>
        <ul>
            <li>Files in the VSCode extension now always open in non-preview mode</li>
        </ul>
    ]]></change-notes>
    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.vscode.jetbrainssync.VSCodeJetBrainsSyncPlugin"/>
        <projectConfigurable
            instance="com.vscode.jetbrainssync.VSCodeJetBrainsSyncConfigurable"
            displayName="IDE Sync - Connect to VSCode"
            id="com.vscode.jetbrainssync.settings"
            parentId="tools"/>
        <notificationGroup id="VSCode JetBrains Sync" displayType="BALLOON"/>
        <statusBarWidgetFactory id="VSCodeJetBrainsSync" implementation="com.vscode.jetbrainssync.SyncStatusBarWidgetFactory"/>
    </extensions>
</idea-plugin> 